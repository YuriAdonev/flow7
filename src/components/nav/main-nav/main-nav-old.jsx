import React from 'react';
import { Link } from 'react-router-dom';

import './main-nav.scss';

import Logo from '../logo/logo';

const MainNav = ({
                   onMainNavItemClick,
                   setShowUserAccount,
                   showUserAccount,
                   currentItem,
                   submenu,
                   onSearchOpen,
                   setShowOrganizationChoice,
                   currentUserState,
                   applications
                }) => {
  return (
    <div className="main-nav">
      <Logo
        onMainNavItemClick={onMainNavItemClick}
        setShowUserAccount={setShowUserAccount}
      />
      {showUserAccount ? '' : (
        <ul className="main-nav__primary">
          {applications.devices ? (
            <li
              className={`main-nav__item${currentItem === 'devices' ? ' main-nav__item--active' : ''}`}
              onClick={() => onMainNavItemClick('devices')}
            >
              <Link to="/devices">
                <svg width="10" height="18" viewBox="0 0 10 18" xmlns="http://www.w3.org/2000/svg">
                  <path d="M7.98828 11.25V3.76172H2.01172V11.25H7.98828ZM7.98828 0.773438C8.38672 0.773438 8.73828 0.925781 9.04297 1.23047C9.34766 1.51172 9.5 1.85156 9.5 2.25V12.7617C9.5 13.1602 9.34766 13.5117 9.04297 13.8164C8.73828 14.0977 8.38672 14.2383 7.98828 14.2383H2.01172C1.61328 14.2383 1.26172 14.0977 0.957031 13.8164C0.652344 13.5117 0.5 13.1602 0.5 12.7617V2.25C0.5 1.85156 0.652344 1.5 0.957031 1.19531C1.26172 0.890625 1.61328 0.738281 2.01172 0.738281L7.98828 0.773438ZM2.01172 17.2617V15.75H7.98828V17.2617H2.01172Z"/>
                </svg>
                <span className="main-nav__tooltip">Устройства</span>
              </Link>
            </li>
          ) : ''}

          <li
            className={`main-nav__item${currentItem === 'works' ? ' main-nav__item--active' : ''}`}
            onClick={() => onMainNavItemClick('works')}
          >
            <svg width="16" height="15" viewBox="0 0 16 15" xmlns="http://www.w3.org/2000/svg">
              <path
                d="M9.51172 3.5V1.98828H6.48828V3.5H9.51172ZM14.0117 3.5C14.4336 3.5 14.7852 3.65234 15.0664 3.95703C15.3477 4.23828 15.4883 4.58984 15.4883 5.01172V13.2383C15.4883 13.6602 15.3477 14.0234 15.0664 14.3281C14.7852 14.6094 14.4336 14.75 14.0117 14.75H1.98828C1.56641 14.75 1.21484 14.6094 0.933594 14.3281C0.652344 14.0234 0.511719 13.6602 0.511719 13.2383V5.01172C0.511719 4.58984 0.652344 4.23828 0.933594 3.95703C1.21484 3.65234 1.56641 3.5 1.98828 3.5H5.01172V1.98828C5.01172 1.56641 5.15234 1.21484 5.43359 0.933594C5.71484 0.652344 6.06641 0.511719 6.48828 0.511719H9.51172C9.93359 0.511719 10.2852 0.652344 10.5664 0.933594C10.8477 1.21484 10.9883 1.56641 10.9883 1.98828V3.5H14.0117Z"/>
            </svg>
            <span className="main-nav__tooltip">Производство работ</span>
          </li>
          {applications.staff ? (
            <li
              className={`main-nav__item${currentItem === 'staff' ? ' main-nav__item--active' : ''}`}
              onClick={() => onMainNavItemClick('staff')}
            >
              <svg width="16" height="14" viewBox="0 0 16 14" xmlns="http://www.w3.org/2000/svg">
                <path d="M6.48828 13.0117H2.76172V7H0.511719L8 0.25L15.4883 7H13.2383V13.0117H9.51172V8.51172H6.48828V13.0117Z"/>
              </svg>
              <span className="main-nav__tooltip">Персонал</span>
            </li>
          ) : ''}
          {applications.equipment_and_materials ? (
            <li
              className={`main-nav__item${currentItem === 'equipmentsAndMaterials' ? ' main-nav__item--active' : ''}`}
              onClick={() => onMainNavItemClick('equipmentsAndMaterials')}
            >
              <svg width="14" height="14" viewBox="0 0 14 14" xmlns="http://www.w3.org/2000/svg">
                <path
                  d="M12.2383 9.25V1.76172H1.72656V9.25H4.75C4.75 9.85938 4.97266 10.3867 5.41797 10.832C5.86328 11.2773 6.39062 11.5 7 11.5C7.60938 11.5 8.13672 11.2773 8.58203 10.832C9.02734 10.3867 9.25 9.85938 9.25 9.25H12.2383ZM12.2383 0.25C12.6602 0.25 13.0117 0.402344 13.293 0.707031C13.5977 0.988281 13.75 1.33984 13.75 1.76172V12.2383C13.75 12.6367 13.5977 12.9883 13.293 13.293C12.9883 13.5977 12.6367 13.75 12.2383 13.75H1.72656C1.30469 13.75 0.953125 13.6094 0.671875 13.3281C0.390625 13.0234 0.25 12.6602 0.25 12.2383V1.76172C0.25 1.33984 0.390625 0.988281 0.671875 0.707031C0.953125 0.402344 1.30469 0.25 1.72656 0.25H12.2383Z"/>
              </svg>
              <span className="main-nav__tooltip">Оборудование и материалы</span>
            </li>
          ) : ''}
          {/*<li*/}
          {/*  className={`main-nav__item${currentItem === 'certifications' ? ' main-nav__item--active' : ''}`}*/}
          {/*  onClick={() => onMainNavItemClick('certifications')}*/}
          {/*>*/}
          {/*  <svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">*/}
          {/*    <path d="M10.9531 12.8867H12.5352L8.70312 3.11328H7.29688L3.46484 12.8867H5.04688L5.89062 10.6367H10.1094L10.9531 12.8867ZM14.0117 0.511719C14.4102 0.511719 14.75 0.664062 15.0312 0.96875C15.3359 1.25 15.4883 1.58984 15.4883 1.98828V14.0117C15.4883 14.4102 15.3359 14.7617 15.0312 15.0664C14.75 15.3477 14.4102 15.4883 14.0117 15.4883H1.98828C1.58984 15.4883 1.23828 15.3477 0.933594 15.0664C0.652344 14.7617 0.511719 14.4102 0.511719 14.0117V1.98828C0.511719 1.58984 0.652344 1.25 0.933594 0.96875C1.23828 0.664062 1.58984 0.511719 1.98828 0.511719H14.0117ZM6.45312 9.125L8 4.97656L9.54688 9.125H6.45312Z"/>*/}
          {/*  </svg>*/}
          {/*  <span className="main-nav__tooltip">Аттестации</span>*/}
          {/*</li>*/}
          <li
            className={`main-nav__item${currentItem === 'directories' ? ' main-nav__item--active' : ''}`}
            onClick={() => onMainNavItemClick('directories')}
          >
            <Link to="/directories">
              <svg width="14" height="16" viewBox="0 0 14 16" xmlns="http://www.w3.org/2000/svg">
                <path d="M10.7617 6.75V5.23828H3.23828V6.75H10.7617ZM10.7617 9.73828V8.26172H3.23828V9.73828H10.7617ZM8.51172 12.7617V11.25H3.23828V12.7617H8.51172ZM7.52734 2.46094C7.38672 2.32031 7.21094 2.25 7 2.25C6.78906 2.25 6.61328 2.32031 6.47266 2.46094C6.33203 2.60156 6.26172 2.77734 6.26172 2.98828C6.26172 3.19922 6.33203 3.38672 6.47266 3.55078C6.61328 3.69141 6.78906 3.76172 7 3.76172C7.21094 3.76172 7.38672 3.69141 7.52734 3.55078C7.66797 3.38672 7.73828 3.19922 7.73828 2.98828C7.73828 2.77734 7.66797 2.60156 7.52734 2.46094ZM12.2383 2.25C12.6367 2.25 12.9883 2.40234 13.293 2.70703C13.5977 3.01172 13.75 3.36328 13.75 3.76172V14.2383C13.75 14.6367 13.5977 14.9883 13.293 15.293C12.9883 15.5977 12.6367 15.75 12.2383 15.75H1.76172C1.36328 15.75 1.01172 15.5977 0.707031 15.293C0.402344 14.9883 0.25 14.6367 0.25 14.2383V3.76172C0.25 3.36328 0.402344 3.01172 0.707031 2.70703C1.01172 2.40234 1.36328 2.25 1.76172 2.25H4.89062C5.05469 1.80469 5.32422 1.44141 5.69922 1.16016C6.07422 0.878906 6.50781 0.738281 7 0.738281C7.49219 0.738281 7.92578 0.878906 8.30078 1.16016C8.67578 1.44141 8.94531 1.80469 9.10938 2.25H12.2383Z"/>
              </svg>
              <span className="main-nav__tooltip">Справочники</span>
            </Link>
          </li>
          <li
            className={`main-nav__item${currentItem === 'settings' ? ' main-nav__item--active' : ''}`}
            onClick={() => onMainNavItemClick('settings')}
          >
            <Link to="/settings">
              <svg width="14" height="14" viewBox="0 0 14 14" xmlns="http://www.w3.org/2000/svg">
                <path d="M10.9023 7.52734C10.9258 7.41016 10.9375 7.23438 10.9375 7C10.9375 6.76562 10.9258 6.58984 10.9023 6.47266L12.0273 5.62891C12.1445 5.53516 12.1562 5.41797 12.0625 5.27734L11.0078 3.44922C10.9375 3.33203 10.832 3.29688 10.6914 3.34375L9.39062 3.87109C9.08594 3.63672 8.79297 3.46094 8.51172 3.34375L8.30078 1.97266C8.25391 1.83203 8.17188 1.76172 8.05469 1.76172H5.94531C5.80469 1.76172 5.72266 1.83203 5.69922 1.97266L5.48828 3.37891C5.11328 3.54297 4.82031 3.70703 4.60938 3.87109L3.30859 3.34375C3.19141 3.29688 3.08594 3.34375 2.99219 3.48438L1.9375 5.27734C1.91406 5.30078 1.90234 5.34766 1.90234 5.41797C1.90234 5.53516 1.92578 5.60547 1.97266 5.62891L3.09766 6.47266C3.07422 6.58984 3.0625 6.76562 3.0625 7C3.0625 7.23438 3.07422 7.41016 3.09766 7.52734L1.97266 8.37109C1.92578 8.39453 1.90234 8.46484 1.90234 8.58203C1.90234 8.65234 1.91406 8.69922 1.9375 8.72266L2.99219 10.5508C3.0625 10.668 3.16797 10.7031 3.30859 10.6562L4.60938 10.1289C4.91406 10.3633 5.20703 10.5391 5.48828 10.6562L5.69922 12.0273C5.74609 12.168 5.82812 12.2383 5.94531 12.2383H8.05469C8.19531 12.2383 8.27734 12.168 8.30078 12.0273L8.51172 10.6211C8.88672 10.457 9.17969 10.293 9.39062 10.1289L10.6914 10.6562C10.8086 10.7031 10.9141 10.6562 11.0078 10.5156L12.0625 8.72266C12.1562 8.58203 12.1445 8.46484 12.0273 8.37109L10.9023 7.52734ZM12.2383 0.25C12.6602 0.25 13.0117 0.402344 13.293 0.707031C13.5977 0.988281 13.75 1.33984 13.75 1.76172V12.2383C13.75 12.6602 13.5977 13.0234 13.293 13.3281C13.0117 13.6094 12.6602 13.75 12.2383 13.75H1.76172C1.33984 13.75 0.976562 13.6094 0.671875 13.3281C0.390625 13.0234 0.25 12.6602 0.25 12.2383V1.76172C0.25 1.33984 0.390625 0.988281 0.671875 0.707031C0.976562 0.402344 1.33984 0.25 1.76172 0.25H12.2383ZM5.94531 5.94531C6.25 5.64062 6.60156 5.48828 7 5.48828C7.39844 5.48828 7.75 5.64062 8.05469 5.94531C8.35938 6.25 8.51172 6.60156 8.51172 7C8.51172 7.39844 8.35938 7.75 8.05469 8.05469C7.75 8.35938 7.39844 8.51172 7 8.51172C6.60156 8.51172 6.25 8.35938 5.94531 8.05469C5.64062 7.75 5.48828 7.39844 5.48828 7C5.48828 6.60156 5.64062 6.25 5.94531 5.94531Z"/>
              </svg>
              <span className="main-nav__tooltip">Настройки организации</span>
            </Link>
          </li>
          <li
            className={`main-nav__item${currentItem === 'upload' ? ' main-nav__item--active' : ''}`}
            onClick={() => onMainNavItemClick('upload')}
          >
            <Link to="/upload">
              <svg width="9" height="18" viewBox="0 0 9 18" xmlns="http://www.w3.org/2000/svg">
                <path
                  d="M7.375 4.5H8.5V13.1133C8.5 14.2617 8.10156 15.2461 7.30469 16.0664C6.50781 16.8633 5.53516 17.2617 4.38672 17.2617C3.23828 17.2617 2.25391 16.8633 1.43359 16.0664C0.636719 15.2461 0.238281 14.2617 0.238281 13.1133V3.76172C0.238281 2.94141 0.53125 2.23828 1.11719 1.65234C1.72656 1.04297 2.44141 0.738281 3.26172 0.738281C4.08203 0.738281 4.78516 1.04297 5.37109 1.65234C5.95703 2.23828 6.25 2.94141 6.25 3.76172V11.6367C6.25 12.1523 6.0625 12.5977 5.6875 12.9727C5.33594 13.3242 4.90234 13.5 4.38672 13.5C3.87109 13.5 3.42578 13.3242 3.05078 12.9727C2.67578 12.5977 2.48828 12.1523 2.48828 11.6367V4.5H3.61328V11.6367C3.61328 11.8477 3.68359 12.0234 3.82422 12.1641C3.98828 12.3047 4.17578 12.375 4.38672 12.375C4.59766 12.375 4.77344 12.3047 4.91406 12.1641C5.05469 12.0234 5.125 11.8477 5.125 11.6367V3.76172C5.125 3.24609 4.9375 2.80078 4.5625 2.42578C4.21094 2.05078 3.77734 1.86328 3.26172 1.86328C2.74609 1.86328 2.30078 2.05078 1.92578 2.42578C1.55078 2.80078 1.36328 3.24609 1.36328 3.76172V13.1133C1.36328 13.9336 1.65625 14.6484 2.24219 15.2578C2.85156 15.8438 3.56641 16.1367 4.38672 16.1367C5.20703 16.1367 5.91016 15.8438 6.49609 15.2578C7.08203 14.6484 7.375 13.9336 7.375 13.1133V4.5Z"/>
              </svg>
              <span className="main-nav__tooltip">Загрузить данные</span>
            </Link>
          </li>
          <li
            className={`main-nav__item${currentItem === submenu ? ' main-nav__item--active' : ''}`}
            onClick={() => onSearchOpen()}
          >
            <svg width="14" height="14" viewBox="0 0 14 14" xmlns="http://www.w3.org/2000/svg">
              <path
              d="M2.74609 7.52734C3.40234 8.18359 4.19922 8.51172 5.13672 8.51172C6.07422 8.51172 6.87109 8.18359 7.52734 7.52734C8.18359 6.87109 8.51172 6.07422 8.51172 5.13672C8.51172 4.19922 8.18359 3.40234 7.52734 2.74609C6.87109 2.08984 6.07422 1.76172 5.13672 1.76172C4.19922 1.76172 3.40234 2.08984 2.74609 2.74609C2.08984 3.40234 1.76172 4.19922 1.76172 5.13672C1.76172 6.07422 2.08984 6.87109 2.74609 7.52734ZM9.63672 8.51172L13.3633 12.2383L12.2383 13.3633L8.51172 9.63672V9.03906L8.30078 8.82812C7.41016 9.60156 6.35547 9.98828 5.13672 9.98828C3.77734 9.98828 2.61719 9.51953 1.65625 8.58203C0.71875 7.64453 0.25 6.49609 0.25 5.13672C0.25 3.77734 0.71875 2.62891 1.65625 1.69141C2.61719 0.730469 3.77734 0.25 5.13672 0.25C6.49609 0.25 7.64453 0.730469 8.58203 1.69141C9.51953 2.62891 9.98828 3.77734 9.98828 5.13672C9.98828 5.62891 9.87109 6.19141 9.63672 6.82422C9.40234 7.43359 9.13281 7.92578 8.82812 8.30078L9.03906 8.51172H9.63672Z"/>
            </svg>
            <span className="main-nav__tooltip">Поиск по системе</span>
          </li>
        </ul>
      )}
      <ul className="main-nav__secondary">
        <li className="main-nav__item">
          <svg width="14" height="16" viewBox="0 0 14 16" xmlns="http://www.w3.org/2000/svg">
            <path
              d="M11.5 10.9883L13.0117 12.5V13.2383H0.988281V12.5L2.5 10.9883V7.26172C2.5 6.08984 2.79297 5.07031 3.37891 4.20312C3.98828 3.33594 4.82031 2.77344 5.875 2.51562V1.98828C5.875 1.68359 5.98047 1.42578 6.19141 1.21484C6.40234 0.980469 6.67188 0.863281 7 0.863281C7.32812 0.863281 7.59766 0.980469 7.80859 1.21484C8.01953 1.42578 8.125 1.68359 8.125 1.98828V2.51562C9.17969 2.77344 10 3.33594 10.5859 4.20312C11.1953 5.07031 11.5 6.08984 11.5 7.26172V10.9883ZM7 15.4883C6.57812 15.4883 6.21484 15.3477 5.91016 15.0664C5.62891 14.7852 5.48828 14.4336 5.48828 14.0117H8.51172C8.51172 14.4102 8.35938 14.7617 8.05469 15.0664C7.75 15.3477 7.39844 15.4883 7 15.4883Z"/>
          </svg>
          <span className="main-nav__tooltip">Уведомления</span>
        </li>
        <li
          className="main-nav__item"
          onClick={() => setShowOrganizationChoice(true)}
        >
          <svg width="14" height="14" viewBox="0 0 14 14" xmlns="http://www.w3.org/2000/svg">
            <path d="M9.98828 13.0117V9.98828H13.0117V13.0117H9.98828ZM9.98828 8.51172V5.48828H13.0117V8.51172H9.98828ZM5.48828 4.01172V0.988281H8.51172V4.01172H5.48828ZM9.98828 0.988281H13.0117V4.01172H9.98828V0.988281ZM5.48828 8.51172V5.48828H8.51172V8.51172H5.48828ZM0.988281 8.51172V5.48828H4.01172V8.51172H0.988281ZM0.988281 13.0117V9.98828H4.01172V13.0117H0.988281ZM5.48828 13.0117V9.98828H8.51172V13.0117H5.48828ZM0.988281 4.01172V0.988281H4.01172V4.01172H0.988281Z"/>
          </svg>
          <span className="main-nav__tooltip">Организации</span>
        </li>
        <li
          className="main-nav__item main-nav__item--avatar"
        >
          <Link
            to="/account"
            onClick={() => {
              setShowUserAccount(true);
              onMainNavItemClick('account');
            }}
          >
            <span></span>
            {currentUserState.currentUser === null ? '' : currentUserState.currentUser.attributes.image.id === null ? '' : (
              <img src={`https://staging.labsflow.ru/api/v1/uploads/${currentUserState.currentUser.attributes.image.id}`} alt=""/>
            )}
          </Link>
          <span className="main-nav__tooltip">Личный кабинет</span>
        </li>
      </ul>
    </div>
  );
};

export default MainNav;
